---
layout: post
title: 'Databases & Rails: Week 5 Controllers'
date: '2012-07-13T09:55:20-05:00'
tags:
- ruby
- rails
- controllers
permalink: /post/27122707453/databases-rails-week-5-controllers
---
<p>We&#8217;ve covered models, views, routing, and briefly introduced controllers. This week we&#8217;re taking the deep dive into controllers, talking about what they can do, and how we want to use them. <a href="https://schneems.com/2012/07/03/databases-rails-week-4-routing.html">Last week</a> we talked about wiring things together with routing. You can watch the <a href="https://youtu.be/azdRLFKvf3M">Recap</a>
then do the <a href="https://gist.github.com/3029994">Quiz</a> and once you&#8217;re done check out the <a href="https://gist.github.com/3080499">Quiz Solution</a>.</p>

<p>Before we get started talking about controllers, first we&#8217;ll introduce <a href="https://youtu.be/iLxKNUFHAnY">Ruby Variable Scope</a>. We&#8217;ve used local variables and constants in our code, and now it&#8217;s time to introduce instance variables and discuss their differences, and why you might want to use one over another.</p>

<p><object width="560" height="315"><param name="movie" value="https://www.youtube.com/v/iLxKNUFHAnY?version=3&amp;hl=en_US&amp;rel=0"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="https://www.youtube.com/v/iLxKNUFHAnY?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>

<p>Now that you&#8217;ve seen how we can use instance variables, we will use one in our controller to move some SQL logic from the view to the controller. This is important for keeping our views clean and focused on presentation logic. It will also help us later when we look into the other things a controller can do.</p>

<p><a href="https://youtu.be/U7ClpbIP-GA">Database logic in controllers</a>
<object width="560" height="315"><param name="movie" value="https://www.youtube.com/v/U7ClpbIP-GA?version=3&amp;hl=en_US&amp;rel=0"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="https://www.youtube.com/v/U7ClpbIP-GA?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>

<p>Now that we&#8217;re pulling data from our database in our controller we can <a href="https://youtu.be/dUEx4gYyk60">render, redirect Filter &amp; Format</a> from our controllers. Check out this video to find out what these are and how we can use them to help build our app.</p>

<p><object width="560" height="315"><param name="movie" value="https://www.youtube.com/v/dUEx4gYyk60?version=3&amp;hl=en_US&amp;rel=0"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="https://www.youtube.com/v/dUEx4gYyk60?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>

<p>This last video on <a href="https://youtu.be/1bnaCCqneYo">Rails URL Helpers</a> covers using <code>$ rake routes</code> to get info on routes and how we can use different url helpers in our app.</p>

<p><object width="560" height="315"><param name="movie" value="https://www.youtube.com/v/1bnaCCqneYo?version=3&amp;hl=en_US&amp;rel=0"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="https://www.youtube.com/v/1bnaCCqneYo?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>

<p>In the exercise we&#8217;ll be nesting a few <code>if</code>, <code>def</code> and <code>class</code> definitions in our code. It can be easy to lose your place and difficult to remember what <code>end</code> corresponds to which line. To help out you can watch a quick video on my <a href="https://youtu.be/HS8hFJvutX8">End of the line, programming trick</a> with the sublime text editor.</p>

<h2>Exercise</h2>

<p>In this exercise we&#8217;re fleshing out the app we worked with later to <a href="https://github.com/schneems/move_logic_to_controllers">add full CRUD and move logic from the view to the controller</a>. Just fork and clone the repo and go through the readme!</p>

<p>Thanks for following along, for up to date ruby info you can catch me <a href="https://twitter.com/schneems">@schneems</a>, and can <a href="https://youtube.com/user/schneems">subscribe to my youtube channel</a></p>
